import telebot
import random
import json
import os
from flask import Flask, request
from telebot.types import ReplyKeyboardMarkup, KeyboardButton

TOKEN = "7852344235:AAHy7AZrf2bJ7Zo0wvRHVi7QgNASgvbUvtI"
bot = telebot.TeleBot(TOKEN)
app = Flask(__name__)

# –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–ª–æ–¥—ã

def load_cards(filename):
    try:
        with open(filename, "r", encoding="utf-8") as f:
            return json.load(f)
    except:
        return []

cards = load_cards("cards.json")
wise_cards = load_cards("wise_cards.json")
process_cards = load_cards("processes.json")
wise_animals = load_cards("wise_animales.json")
power_animals = load_cards("power_animals.json")

# –°–ø–∏—Å–∫–∏ —Å–ª–æ–≤
transformations = [
    "–ü—Ä–∏–Ω—è—Ç–∏–µ –Ω–µ–∏–∑–±–µ–∂–Ω–æ–≥–æ", "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –ø—Ä–æ—à–ª–æ–≥–æ", "–í—ã—Ö–æ–¥ –∏–∑ –∏–ª–ª—é–∑–∏–π", "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–æ–∑–Ω–∞–Ω–∏—è",
    "–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å", "–û—Ç–ø—É—Å–∫–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è", "–û–±–Ω—É–ª–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ä–æ–∂–¥–µ–Ω–∏–µ", "–ü—Ä–æ—â–µ–Ω–∏–µ —Å–µ–±—è –∏ –¥—Ä—É–≥–∏—Ö",
    "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Å—Ç—Ä–∞—Ö–∞ –≤ –¥–æ–≤–µ—Ä–∏–µ", "–í—ã—Ö–æ–¥ –∏–∑ –∂–µ—Ä—Ç–≤—ã", "–í–∏–¥–µ–Ω–∏–µ —Å—É—Ç–∏", "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–µ–±–µ",
    "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ–π—Å—Ç–≤–∏—é", "–û—Å–æ–∑–Ω–∞–Ω–∏–µ —Å–≤–æ–µ–π —Å–∏–ª—ã", "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–µ–±—ë–Ω–∫–∞", "–û–±—Ä–µ—Ç–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–ø–æ—Ä—ã",
    "–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –±–æ—Ä—å–±—ã –∫ –ø—Ä–∏–Ω—è—Ç–∏—é", "–°–º–µ–Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è", "–û–±—Ä–µ—Ç–µ–Ω–∏–µ –º—É–¥—Ä–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –æ–ø—ã—Ç", "–î–æ–≤–µ—Ä–∏–µ –∂–∏–∑–Ω–∏",
    "–ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö", "–ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–Ω–µ–≤–∞ –≤ —Å–∏–ª—É", "–ü—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö–∞ –≤ —Å–º–µ–ª–æ—Å—Ç—å",
    "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞–≤–º—ã –ø–æ–∫–∏–Ω—É—Ç–æ—Å—Ç–∏", "–†–∞—Å–∫—Ä—ã—Ç–∏–µ —Å–≤–æ–µ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞", "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∫—Ä–∏—Ç–∏–∫–∞",
    "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–∏—è –∫ –ª—é–¥—è–º", "–û–±—Ä–µ—Ç–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏", "–ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ —Å–∏–Ω–¥—Ä–æ–º–∞ —Å–∞–º–æ–∑–≤–∞–Ω—Ü–∞",
    "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Å—Ç—Ä–∞—Ö–∞ –ø–æ—Ç–µ—Ä–∏ –≤ –ª—é–±–æ–≤—å", "–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∫ –ø—Ä–∏–Ω—è—Ç–∏—é —Å–µ–±—è", "–ü–µ—Ä–µ–≤–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤ –ø–æ—Ç–æ–∫",
    "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –º–∞—Ç–µ—Ä—å—é", "–ò—Å—Ü–µ–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –æ—Ç—Ü–æ–º", "–û–±—Ä–µ—Ç–µ–Ω–∏–µ –∑—Ä–µ–ª–æ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–∑—Ä–æ—Å–ª–æ–≥–æ",
    "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ —Å–∏–ª—ã —Ä–æ–¥–∞", "–í—ã—Ö–æ–¥ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—ã–∂–∏–≤–∞–Ω–∏—è", "–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç '–Ω–∞–¥–æ' –∫ '—Ö–æ—á—É'",
    "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ —Ä–∞–¥–æ—Å—Ç–∏ –∂–∏–∑–Ω–∏", "–ü—Ä–∏–Ω—è—Ç–∏–µ —Å–≤–æ–µ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏", "–û–±—Ä–µ—Ç–µ–Ω–∏–µ —è—Å–Ω–æ—Å—Ç–∏ –∏ —Ñ–æ–∫—É—Å–∞",
    "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –≤ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ", "–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –ø–æ–∏—Å–∫–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–ø–æ—Ä–µ",
    "–ü—Ä–∏–Ω—è—Ç–∏–µ –≥—Ä–∞–Ω–∏—Ü ‚Äî —Å–≤–æ–∏—Ö –∏ –¥—Ä—É–≥–∏—Ö", "–ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏", "–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ —Å–µ–±–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∂–∏—Ç—å —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é",
    "–ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ —Ä–æ–ª–∏ —Å–ø–∞—Å–∞—Ç–µ–ª—è –≤ —Ä–æ–ª—å —Ç–≤–æ—Ä—Ü–∞", "–ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–≤–µ—Ç–∞", "–û—Ç–∫–∞–∑ –æ—Ç —Å–∞–º–æ–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è",
    "–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º", "–ü–µ—Ä–µ—Ö–æ–¥ –∏–∑ —á—É–≤—Å—Ç–≤–∞ –≤–∏–Ω—ã –∫ —á—É–≤—Å—Ç–≤–æ–≤–∞–Ω–∏—é —Å–µ–±—è",
    "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏ —Å —Ç–µ–ª–æ–º", "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–æ–≥–æ –æ–ø—ã—Ç–∞",
    "–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç —Å—Ç—Ä–∞—Ö–∞ –∫ –¥–æ–≤–µ—Ä–∏—é –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º—É", "–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–∂–∏–¥–∞–Ω–∏–π –≤ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏"
]

fears = [
    "–°—Ç—Ä–∞—Ö –±—Ä–æ—à–µ–Ω–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –ø–æ–≥–ª–æ—â–µ–Ω–∏—è", "–°—Ç—Ä–∞—Ö –Ω–µ—É—Å–ø–µ—Ö–∞", "–°—Ç—Ä–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è", "–°—Ç—Ä–∞—Ö —É–Ω–∏–∂–µ–Ω–∏—è", "–°—Ç—Ä–∞—Ö –æ—Ç–≤–µ—Ä–∂–µ–Ω–∏—è",
    "–°—Ç—Ä–∞—Ö –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞", "–°—Ç—Ä–∞—Ö –Ω–µ–Ω—É–∂–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –±–µ—Å–ø–æ–º–æ—â–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –±–µ—Å—Å–∏–ª–∏—è", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä–∏ —Å–≤–æ–±–æ–¥—ã",
    "–°—Ç—Ä–∞—Ö –±—ã—Ç—å —Å–æ–±–æ–π", "–°—Ç—Ä–∞—Ö –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –±–ª–∏–∑–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö —Ä–∞–∑–æ—á–∞—Ä–æ–≤–∞—Ç—å", "–°—Ç—Ä–∞—Ö –Ω–µ –±—ã—Ç—å –ø—Ä–∏–Ω—è—Ç—ã–º",
    "–°—Ç—Ä–∞—Ö –æ—Å—É–∂–¥–µ–Ω–∏—è", "–°—Ç—Ä–∞—Ö –∫—Ä–∏—Ç–∏–∫–∏", "–°—Ç—Ä–∞—Ö –Ω–µ–∏–¥–µ–∞–ª—å–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å –ø–ª–æ—Ö–∏–º", "–°—Ç—Ä–∞—Ö –Ω–∞–∫–∞–∑–∞–Ω–∏—è",
    "–°—Ç—Ä–∞—Ö –±—ã—Ç—å —É—è–∑–≤–∏–º—ã–º", "–°—Ç—Ä–∞—Ö –±—É–¥—É—â–µ–≥–æ", "–°—Ç—Ä–∞—Ö –ø–µ—Ä–µ–º–µ–Ω", "–°—Ç—Ä–∞—Ö –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö —Å–º–µ—Ä—Ç–∏",
    "–°—Ç—Ä–∞—Ö –±–æ–ª–µ–∑–Ω–∏", "–°—Ç—Ä–∞—Ö —Å—Ç–∞—Ä–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä—è—Ç—å –±–ª–∏–∑–∫–∏—Ö", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä—è—Ç—å –ª—é–±–æ–≤—å", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä–∏ –¥–µ–Ω–µ–≥",
    "–°—Ç—Ä–∞—Ö –±–µ–¥–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–º", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å —Å–ª–∞–±—ã–º", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å –æ–±–µ—Å—Ü–µ–Ω–µ–Ω–Ω—ã–º",
    "–°—Ç—Ä–∞—Ö —Å—Ü–µ–Ω—ã", "–°—Ç—Ä–∞—Ö —Å–∫—É–∫–∏", "–°—Ç—Ä–∞—Ö —Ä—É—Ç–∏–Ω—ã", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä—è—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å —Ä–∞–∑–æ–±–ª–∞—á—ë–Ω–Ω—ã–º",
    "–°—Ç—Ä–∞—Ö —Å–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–¥—É", "–°—Ç—Ä–∞—Ö –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å", "–°—Ç—Ä–∞—Ö —É—Å–ø–µ—Ö–∞", "–°—Ç—Ä–∞—Ö –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–∞ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö",
    "–°—Ç—Ä–∞—Ö —É—â–µ—Ä–±–Ω–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö —É–±–æ–≥–æ—Å—Ç–∏", "–°—Ç—Ä–∞—Ö –Ω–µ –∑–Ω–∞—Ç—å —á—Ç–æ-—Ç–æ", "–°—Ç—Ä–∞—Ö –æ–∫–∞–∑–∞—Ç—å—Å—è –≤ –¥—É—Ä–∞–∫–∞—Ö",
    "–°—Ç—Ä–∞—Ö –±—ã—Ç—å –æ–±–º–∞–Ω—É—Ç—ã–º", "–°—Ç—Ä–∞—Ö –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞", "–°—Ç—Ä–∞—Ö –Ω–æ–≤–æ–≥–æ", "–°—Ç—Ä–∞—Ö –∂–∏–∑–Ω–∏", "–°—Ç—Ä–∞—Ö –∂–∏—Ç—å",
    "–°—Ç—Ä–∞—Ö –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è", "–°—Ç—Ä–∞—Ö –±—ã—Ç—å –≤–∏–¥–∏–º—ã–º", "–°—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä—è—Ç—å —Å–≤—è–∑—å —Å –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º"
]

blessings = [
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –°–í–û–Æ –ñ–ò–ó–ù–¨", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Ç–∞–∫–∏–º, –∫–∞–∫–æ–π —Ç—ã –µ—Å—Ç—å", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Å–æ–±–æ–π –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–≤–æ–∏–º –ø—É—Ç—ë–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –≤—ã—Ä–∞–∂–∞—Ç—å —Å–≤–æ–∏ —á—É–≤—Å—Ç–≤–∞",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ —É—Å–ø–µ—Ö –∏ –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏–µ", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –ª—é–±–æ–≤—å –∏ –±–ª–∏–∑–æ—Å—Ç—å",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –æ—Ç–¥—ã—Ö –∏ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –≤—ã–±–∏—Ä–∞—Ç—å –∏ –æ—à–∏–±–∞—Ç—å—Å—è",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Å–ª–∞–±—ã–º –∏ –ø—Ä–æ—Å–∏—Ç—å –æ –ø–æ–º–æ—â–∏",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —á—É–∂–∏—Ö –æ–∂–∏–¥–∞–Ω–∏–π",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ –∏ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ –∂–∏–∑–Ω—å—é", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Ü–µ–Ω–Ω—ã–º –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ —Ç—ã –µ—Å—Ç—å",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –∑–∞–Ω–∏–º–∞—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —É—Å–ª—ã—à–∞–Ω–Ω—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –∂–∏—Ç—å –≤ —Å–≤–æ—ë–º —Ä–∏—Ç–º–µ",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–µ –∑–Ω–∞—Ç—å", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ —Å–∫–∞–∑–∞—Ç—å ¬´–Ω–µ—Ç¬ª", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –º–µ–Ω—è—Ç—å –º–Ω–µ–Ω–∏–µ",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –æ—à–∏–±–∫—É", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –≤–∞–∂–Ω—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤–æ–µ",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —É—è–∑–≤–∏–º—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ —Å–≤–æ–∏ –º–µ—á—Ç—ã", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ —Å–≤–æ—é –ø—Ä–∞–≤–¥—É", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –Ω–µ–¥–æ–≤–æ–ª—å–Ω—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –¥–µ–ª–∞—Ç—å –ø–æ-—Å–≤–æ–µ–º—É",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –Ω–µ–∏–¥–µ–∞–ª—å–Ω—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–≤–æ–±–æ–¥—É",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –∂–∏–≤—ã–º", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –≤ –ø–æ—Ç–æ–∫–µ", "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å –Ω–µ–∂–Ω—ã–º –∏ —Å–∏–ª—å–Ω—ã–º",
    "–¢—ã –∏–º–µ–µ—à—å –ø—Ä–∞–≤–æ –±—ã—Ç—å —Å–æ–±–æ–π –±–µ–∑ –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–π"
]

# –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
menu = ReplyKeyboardMarkup(resize_keyboard=True)
menu.add(
    KeyboardButton("üßø –ê—Ä—Ö–µ—Ç–∏–ø—ã"),
    KeyboardButton("ü™∂ –ú—É–¥—Ä–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞"),
    KeyboardButton("üåÄ –ü—Ä–æ—Ü–µ—Å—Å—ã"),
    KeyboardButton("üêæ –ü–æ—Å–ª–∞–Ω–∏—è –∑–≤–µ—Ä–µ–π"),
    KeyboardButton("üêÖ –ñ–∏–≤–æ—Ç–Ω—ã–µ —Å–∏–ª—ã"),
    KeyboardButton("‚ú® –ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è"),
    KeyboardButton("üò® –°—Ç—Ä–∞—Ö–∏"),
    KeyboardButton("üôè –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏—è")
)

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
users = set()
if os.path.exists("users.txt"):
    with open("users.txt", "r") as f:
        users = set(line.strip() for line in f)

# –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç
user_states = {}

@bot.message_handler(commands=['start'])
def start(message):
    users.add(str(message.chat.id))
    with open("users.txt", "w") as f:
        for uid in users:
            f.write(uid + "\n")

    bot.send_message(
        message.chat.id,
        "–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ —Å–≤–æ–π –∑–∞–ø—Ä–æ—Å –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–æ–¥—É –∏–ª–∏ –ø—Ä–∞–∫—Ç–∏–∫—É:",
        reply_markup=menu
    )

# –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è
@bot.message_handler(func=lambda msg: msg.text == "‚ú® –ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è")
def send_transformation(message):
    bot.send_message(message.chat.id, f"üîÑ –í–∞—à–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è: {random.choice(transformations)}")

# –°—Ç—Ä–∞—Ö–∏
@bot.message_handler(func=lambda msg: msg.text == "üò® –°—Ç—Ä–∞—Ö–∏")
def send_fear(message):
    bot.send_message(message.chat.id, f"üò± –í–∞—à —Å—Ç—Ä–∞—Ö: {random.choice(fears)}")

# –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏—è
@bot.message_handler(func=lambda msg: msg.text == "üôè –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏—è")
def send_blessing(message):
    bot.send_message(message.chat.id, f"üí´ –ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ: {random.choice(blessings)}")

# Webhook
@app.route(f"/{TOKEN}", methods=["POST"])
def webhook():
    update = telebot.types.Update.de_json(request.stream.read().decode("utf-8"))
    bot.process_new_updates([update])
    return "OK", 200

# –ó–∞–ø—É—Å–∫
if __name__ == "__main__":
    bot.remove_webhook()
    bot.set_webhook(url=f"https://{os.environ['RENDER_EXTERNAL_HOSTNAME']}/{TOKEN}")
    app.run(host="0.0.0.0", port=int(os.environ.get("PORT", 5000)))


